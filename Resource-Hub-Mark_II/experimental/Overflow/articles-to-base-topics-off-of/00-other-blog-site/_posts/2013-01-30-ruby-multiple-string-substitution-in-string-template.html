<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>2013-01-30-ruby-multiple-string-substitution-in-string-template</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p><a href="http://2.bp.blogspot.com/-TXeIgl7Ja6E/UQlL6ovcn2I/AAAAAAAALbA/apWL8C4Ef9Y/s1600/cursor_inside_print_interpol.png"><img src="http://2.bp.blogspot.com/-TXeIgl7Ja6E/UQlL6ovcn2I/AAAAAAAALbA/apWL8C4Ef9Y/s400/cursor_inside_print_interpol.png" width="400" height="136" /></a></p>
<p>Consider the below string template in which you need to replace the product and cost with values dynamically.</p>
<pre><code>&quot;Price of the product is Rs. cost.&quot;</code></pre>
<p>It may be apple and 70 or Orange and 40 etc.</p>
<h3 id="section"></h3>
<h3 id="when-to-use-string-interpolation">When to use String interpolation </h3>
<p>We can use string interpolation if we are using this in only one place.</p>
<pre><code>product = &quot;apple&quot;

cost = &quot;70.00&quot;



p &quot;Price of the #{product} is Rs. #{cost}.&quot;

# prints Price of the apple is Rs. 70.00.</code></pre>
<p>It won’t work when we need the reuse the template by assigning into a variable. Duplicating the template everywhere is bad and lead to unmaintainable code.</p>
<h3 id="section-1"></h3>
<h3 id="why-its-better-to-use-method">Why its better to use “%” method?</h3>
<p>The easiest way to substitute multiple strings into a string template is using “<a href="http://www.ruby-doc.org/core-1.9.3/String.html#method-i-25">%</a>” method of String class.<br />
In order to reuse the template we can assign it to a variable and pass the substituents into “%” method as an array or Hash.</p>
<h4 id="using-array">Using Array</h4>
<pre><code>template = &quot;Price of the %s is Rs. %f.&quot;
# %s - string, %f - float and %d - integer

p template % [&quot;apple&quot;, 70.00]
# prints Price of the apple is Rs. 70.000000.</code></pre>
<p>If you are using array</p>
<ul>
<li>You should specify the placements as %s, %f or %d.</li>
<li>The order of substitutions should be maintained</li>
<li>The change in data type may result in errors.</li>
<li>You may need to format the output refer <a href="http://www.ruby-doc.org/core-1.9.3/Kernel.html#method-i-sprintf">sprintf</a></li>
</ul>
<h4 id="section-2"></h4>
<h4 id="using-hash">Using Hash</h4>
<p>For me using the Hash is the most continent and simple way. I can used named placements never need to think of the list of issues above.</p>
<pre><code>template = &quot;Price of the %{product} is Rs. %{price}.&quot;

p template % {product:&quot;apple&quot;, price:70.00}
# prints Price of the apple is Rs. 70.0.</code></pre>
<p>$</p>
</body>
</html>
