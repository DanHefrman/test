<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>2013-01-10-custom-404-page-for-rails-3</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p><a href="http://3.bp.blogspot.com/--wFgBPcGyrs/UOxxoEpyd9I/AAAAAAAALL4/ZfiIgLaJM9c/s1600/rails3.gif"><img src="http://3.bp.blogspot.com/--wFgBPcGyrs/UOxxoEpyd9I/AAAAAAAALL4/ZfiIgLaJM9c/s1600/rails3.gif" /></a></p>
<p><span style="text-align: left;"><br />
</span></p>
<p><span style="text-align: left;">Handling exception in Rails 3.x is entirely different from Rails 2.x. In Rails 3.x, whole exception handling is moved to rack middleware stack. So we can’t catch 404 and 500 exception from ApplicationContoller with </span><strong>rescue_from</strong> <span style="text-align: left;">method.</span></p>
<p>Here is the simple way to handle 404 exceptions so that you can show custom page for them.</p>
<p>For that first we need to route the exception app to our own routes. Adding the following line of code to <strong>application.rb</strong> will do the trick.</p>
<pre><code>config.exceptions_app = self.routes</code></pre>
<p>Now all the exceptions will be routes to our routes. Next we need to add routes to handle those.</p>
<pre><code>match &quot;/404&quot;, :to =&gt; &quot;errors#not_found&quot;</code></pre>
<p>Now our route is ready. Please make sure that you use “<strong>match</strong>” for the route matching since we are expecting exception from every single http requests such as get/post/put/delete. Next thing is just a controller, action and view for the route.</p>
<p><strong>Errors Controller</strong></p>
<pre><code>class ErrorsController &lt; ApplicationController  def not_found    respond_to do |format|      format.html    end  endend</code></pre>
<p><strong>Not found view</strong></p>
<pre><code>&lt;section class=&quot;section-wrapper not-found-w&quot;&gt;  &lt;div class=&quot;container&quot;&gt;    &lt;div class=&quot;row&quot;&gt;      &lt;div class=&quot;span4&quot;&gt;        &lt;%= image_tag &quot;not-found-error.png&quot;, alt: &#39;Not-found-error&#39;%&gt;      &lt;/div&gt;      &lt;div class=&quot;span8&quot;&gt;        &lt;h1&gt;Page not found&lt;/h1&gt;        &lt;h4&gt;Sorry the page you requested may have been moved or deleted.&lt;/h4&gt;        &lt;p&gt;Let&#39;s try one of the following remedies to get you back on track...&lt;/p&gt;        &lt;div class=&quot;not-found-solutions btn-group&quot;&gt;          &lt;%= link_to raw(&#39;&lt;i class=&quot;icon-circle-arrow-left&quot;&gt;&lt;/i&gt; Revisit the previous page&#39;), &quot;#&quot;, class: &quot;btn&quot;, onclick: &quot;javascript:window.history.back();return false;&quot; %&gt;          &lt;%= link_to raw(&#39;&lt;i class=&quot;icon-home&quot;&gt;&lt;/i&gt; Go to the homepage&#39;), root_path, class: &quot;btn&quot; %&gt;        &lt;/div&gt;    &lt;/div&gt;  &lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</code></pre>
<p>Thats it. You have done. Now try to invoke a 404, you can view your custom 404 page.<br />
Hope it helped you.<br />
Happy coding. ;)</p>
<p>Photo Credit : <a href="http://www.123rf.com/photo_10724496_3d-render-illustration-error-404-page-not-found-yellow-background--black-gray-3d-board-with-word-err.html">123rf.com</a></p>
<p>$</p>
</body>
</html>
