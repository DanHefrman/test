<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>22-elasticsearch-reduce-memory-usage</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p>If your development machine, hangs due to CPU usage of elastic search, here are the two settings which you need to update. I tested these settings and got real perfomance gain on my <strong>Ubuntu</strong> development machine.</p>
<p><strong>The settings below should be used only on <code>development</code> machines.</strong></p>
<h1 id="set-heap-size">1. Set HEAP size</h1>
<p>My default the ElasticSearch heap size is 256m minimum and 1g maximum. You need to update the maximum size to 256m. To do this open <code>/etc/init.d/elasticsearch</code> and uncomment the line,</p>
<pre><code>ES_HEAP_SIZE=256m</code></pre>
<h1 id="set-number-of-shards-replicas">2. Set number of shards &amp; replicas</h1>
<p>By default the number of shards is set to 5 and replicas to 1. We can update to shards as 1 and replicas as 0 in development, which will lead to real gain of perfomance.</p>
<pre><code># /etc/elasticsearch/elasticsearch.yml
index.number_of_shards: 1
index.number_of_replicas: 0</code></pre>
<p>Thanks.</p>
</body>
</html>
